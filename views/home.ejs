<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <script src="https://kit.fontawesome.com/3ab75a4ed7.js" crossorigin="anonymous"></script>
    <script deger src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


    <script src="/js/home.js" defer></script>
    <link rel="stylesheet" href="/css/home.css">
</head>

<body>
    <div class="wrapper">

        <div class="todo-container col-12 col-md-8 ml-auto mr-auto">
            <table class="table table-bordered">
                <p class="app-title text-center font-weight-bold">TODO APP</p>

                <tbody>
                    <form id="newTodoList" action="/add_todo/" method="post">
                        <div class="get-input-container">

                            <tr>
                                <td colspan="2">
                                    <div class="description form-group take-input-container">
                                        <label for="description-input" class="">DESCRIPTION</label>
                                        <input class="form-control" type="text" id="description-input" name="description" placeholder="What do you need to do?" required>
                                    </div>
                                </td>
                            </tr>

                            <div class="category-n-date">
                                <tr>
                                    <td>
                                        <div class="category take-input-container form-group position-relative">
                                            <label for="category-select">CATEGORY </label>
                                            <select class="form-control form-select" id="category-select" name="category" required>
                                        <option value="blank" selected>Choose a category</option>    
                                            <option value="Personal">Personal</option>
                                            <option value="Work">Work</option>
                                            <option value="School">School</option>
                                            <option value="Cleaner">Cleaner</option>
                                            <option value="Others">Others</option>
                                        </select>
                                    </td>
                                    <td>
                                        <div class="due-date form-group take-input-container">
                                            <label for="due-date-input">DUE DATE</label>
                                            <input class="form-control" type="date" name="dueDate" id="due-date-input">
                                        </div>
                                    </td>
                                </tr>

                                </div>


                            </div>
                            <tr>
                                <td colspan="2">
                                    <div class="buttons-container d-flex justify-content-center align-items-center text-white">
                                        <button type="submit" class="btn btn-success" id="addTask"><i class="fa-solid fa-plus text-white"></i>&nbspADD TASK</button>
                    </form>
                    <form id="deleteTodoList" action="" method="get">
                        <button type="submit" class="btn btn-danger delete"><i class="fa-solid fa-trash text-white"></i>&nbspDELETE TASK</button>
                        </div>
                        </td>
                        </tr>
                        <div class="display-container">
                            <% for( i of todo_list){ %>
                                <tr>
                                    <td colspan="2">
                                        <div class="list-container">

                                            <div class="list-details d-flex align-items-center" style="width:80%;">


                                                <% if(i.active == false){%>
                                                    <span class=" checkbox-container" style="width:10px; margin-right:1rem; flex: none ">
                                                    <input type="checkbox" name="id" value="<%=i._id%>" class="checkbox" checked="checked" />
                                                </span>

                                                    <div class="list-description">
                                                        <span class="desc text-decoration-line-through"><%=i.description %></span>
                                                        <div class="list-due-date text-decoration-line-through"><i class="fa-solid fa-calendar-days "></i>&nbsp
                                                            <%=i.dueDate %>
                                                        </div>
                                                    </div>

                                                    <% }else{ %>
                                                        <span class=" checkbox-container" style="width:10px; margin-right:1rem; flex: none ">
                                                        <input type="checkbox" name="id" value="<%=i._id%>" class="checkbox" style="color:green ">
                                                    </span>

                                                        <div class="list-description">
                                                            <span class="desc"><%=i.description %></span>
                                                            <div class="list-due-date"><i class="fa-solid fa-calendar-days "></i>&nbsp
                                                                <%=i.dueDate %>
                                                            </div>
                                                        </div>

                                                        <% } %>



                                            </div>
                                            <div class="list-category" style="margin-right: 1rem; ">
                                                <%=i.category %>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <%}%>


                        </div>
                    </form>
                </tbody>
            </table>

            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js " integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p " crossorigin="anonymous "></script>
        <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js " integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=" anonymous "></script> -->
</body>

</html>